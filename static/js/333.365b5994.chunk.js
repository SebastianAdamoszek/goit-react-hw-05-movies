"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[333],{25:(e,t,a)=>{a.d(t,{Hg:()=>o,TP:()=>i,tx:()=>l,z1:()=>c,zv:()=>n});var s=a(294);s.Z.defaults.baseURL="https://api.themoviedb.org/3/";const r="e8ab892b2ac2cd96b9f442270f7b9c45",o=async()=>{try{const e=await s.Z.get("trending/all/day?api_key=".concat(r));return new Promise((t=>{setTimeout((()=>{t(e.data.results)}),500)}))}catch(e){console.log("getTrending error:",e)}},c=async e=>{try{const t=await s.Z.get("search/movie?api_key=".concat(r,"&query=").concat(e));return new Promise((e=>{setTimeout((()=>{e(t.data.results)}),500)}))}catch(t){console.log("searchMovies error:",t)}},i=async e=>{try{const t=await s.Z.get("movie/".concat(e,"?api_key=").concat(r));return new Promise((e=>{setTimeout((()=>{e(t.data)}),1e3)}))}catch(t){console.error("getMovieDetails error:",t)}},n=async e=>{try{const t=await s.Z.get("movie/".concat(e,"/credits?api_key=").concat(r));return new Promise((e=>{setTimeout((()=>{e(t.data.cast)}),500)}))}catch(t){console.error("getMovieCredits error:",t)}},l=async e=>{try{const t=await s.Z.get("movie/".concat(e,"/reviews?api_key=").concat(r));return new Promise((e=>{setTimeout((()=>{e(t.data.results)}),500)}))}catch(t){console.error("getMovieReviews error:",t)}}},333:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(791),r=a(25),o=a(87);const c="SearchBarm_Searchbar__UEnJI",i="SearchBarm_SearchForm__WazH0",n="SearchBarm_SearchFormButton__2UmCx",l="SearchBarm_SearchFormButtonLabel__atcJf",u="SearchBarm_SearchFormInput__97oXR";var m=a(184);const _=e=>{let{onSubmit:t}=e;const[a,r]=(0,o.lr)(),_=a.get("query"),[h,v]=(0,s.useState)(_||"");return(0,m.jsx)("div",{className:c,children:(0,m.jsxs)("form",{className:i,onSubmit:e=>{e.preventDefault(),t(h),r({query:h}),v("")},children:[(0,m.jsx)("button",{type:"submit",className:n,children:(0,m.jsx)("span",{className:l})}),(0,m.jsx)("input",{className:u,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",id:"searchInput",name:"searchInput",value:h,onChange:e=>{v(e.target.value)}})]})})};var h=a(686),v=a.n(h),d=a(689);const y="MoviesList_MovieListBox__E2mky",g="MoviesList_MovieList__XVN8b",p="MoviesList_MovieListItem__RoK4C",S="MoviesList_MovieListLink__8tncu",f="MoviesList_MovieListStyle__Vv7Va",w=e=>{let{movies:t}=e;const a=(0,d.TH)();return(0,m.jsx)("div",{className:y,children:(0,m.jsx)("ul",{className:g,children:t.map((e=>(0,m.jsx)("li",{className:p,children:(0,m.jsxs)(o.rU,{to:"".concat(e.id),state:{from:a},className:S,children:[(0,m.jsx)("span",{className:f}),e.title," (",e.release_date.split("-")[0],")"]})},e.id)))})})};var x=a(793);const b=()=>{const[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)(!1),[c,i]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{o(""!==c);try{const e=await(0,r.z1)(c);if(0===e.length&&""!==c)return void v().Notify.warning("Sorry, there are no results for your query! Please try again.");t(e)}catch(e){console.error("FetchSearchMovies error:",e)}finally{o(!1)}})()}),[c]);return(0,m.jsxs)("main",{children:[(0,m.jsx)(_,{onSubmit:e=>{t([]),i(e)}}),a&&(0,m.jsx)(x.Z,{}),(0,m.jsx)(w,{movies:e,query:c})]})}}}]);
//# sourceMappingURL=333.365b5994.chunk.js.map